
> my-v0-project@0.1.0 dev /Users/araschsaffari/code/cursor/wood-one-live
> next dev

   ▲ Next.js 15.2.4
   - Local:        http://localhost:3000
   - Network:      http://192.168.178.23:3000

 ✓ Starting...
 ✓ Ready in 1524ms
 ○ Compiling /dashboard/all ...
 ✓ Compiled /dashboard/all in 3.4s (1860 modules)
AllLocationsPage wird gerendert
 GET /dashboard/all 200 in 4114ms
 ✓ Compiled in 764ms (863 modules)
 ○ Compiling /api/admin/health ...
 ✓ Compiled /api/admin/health in 1583ms (1996 modules)
{"level":"info","time":"2025-07-26T14:58:19.072Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
 GET /api/weather?station=global&time=now 200 in 1772ms
✅ Event manager registered for SIGINT/SIGTERM
🔧 Initializing database tables...
✅ Database tables initialized successfully
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2944ms
📊 Aggregation statistics: [
  { station: 'band', count: 41 },
  { station: 'heuballern', count: 43 },
  { station: 'ort', count: 47 },
  { station: 'techno', count: 42 },
  { station: 'teststation', count: 249 }
]
✅ Automatic aggregation scheduled successfully
🔍 [API station-data] Request: station=heuballern, interval=24h, page=1, pageSize=1, aggregate=dates
🔍 [API station-data] Environment: NODE_ENV=development, Platform=darwin
🔍 [API station-data] Result: 1 rows for heuballern, totalCount: 35945
[API station-data] Station: heuballern, Page: 1/35945, Rows: 1/35945
[API station-data] Verwende 15min aggregierte Daten für ort: 47 Einträge
[API station-data] Verwende 15min aggregierte Daten für techno: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=1&aggregate=dates 200 in 4808ms
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 4808ms
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 4797ms
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2622ms
📊 Aggregation statistics: [
  { station: 'band', count: 41 },
  { station: 'heuballern', count: 43 },
  { station: 'ort', count: 47 },
  { station: 'techno', count: 42 },
  { station: 'teststation', count: 249 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/csv-watcher-status 200 in 7441ms
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1566ms
📊 Aggregation statistics: [
  { station: 'band', count: 41 },
  { station: 'heuballern', count: 43 },
  { station: 'ort', count: 47 },
  { station: 'techno', count: 42 },
  { station: 'teststation', count: 249 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/admin/health 200 in 9019ms
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1215ms
📊 Aggregation statistics: [
  { station: 'band', count: 41 },
  { station: 'heuballern', count: 43 },
  { station: 'ort', count: 47 },
  { station: 'techno', count: 42 },
  { station: 'teststation', count: 249 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/health 200 in 10285ms
{"level":"info","time":"2025-07-26T14:58:19.077Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T14:58:19.130Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
{"level":"info","time":"2025-07-26T14:58:19.175Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T14:58:19.176Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T14:58:19.176Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T14:58:22.123Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
{"level":"info","time":"2025-07-26T14:58:22.139Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T14:58:22.140Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T14:58:22.140Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T14:58:24.762Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
{"level":"info","time":"2025-07-26T14:58:24.773Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T14:58:24.773Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T14:58:24.773Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T14:58:26.340Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
{"level":"info","time":"2025-07-26T14:58:26.348Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T14:58:26.348Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T14:58:26.349Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T14:58:27.565Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 ○ Compiling /api/weather/last-update ...
 ✓ Compiled /api/weather/last-update in 937ms (2015 modules)
{"level":"info","time":"2025-07-26T14:58:28.556Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
🔧 Initializing database tables...
✅ Database tables initialized successfully
✅ Event manager registered for SIGINT/SIGTERM
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2426ms
📊 Aggregation statistics: [
  { station: 'band', count: 41 },
  { station: 'heuballern', count: 43 },
  { station: 'ort', count: 47 },
  { station: 'techno', count: 42 },
  { station: 'teststation', count: 249 }
]
✅ Automatic aggregation scheduled successfully
💓 SSE heartbeat mechanism started
 GET /api/weather/last-update 200 in 3400ms
 GET /api/admin/config 200 in 3471ms
{"level":"info","time":"2025-07-26T14:58:28.565Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
{"level":"info","time":"2025-07-26T14:58:28.566Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T14:58:28.581Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T14:58:28.581Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T14:58:28.582Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T14:58:31.016Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
AllLocationsPage wird gerendert
 GET /dashboard/all 200 in 587ms
 GET /dashboard/all 200 in 3213ms
 ✓ Compiled in 676ms (863 modules)
 GET /dashboard/all 200 in 36ms
{"level":"info","time":"2025-07-26T14:59:17.263Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2115ms
📊 Aggregation statistics: [
  { station: 'band', count: 41 },
  { station: 'heuballern', count: 43 },
  { station: 'ort', count: 47 },
  { station: 'techno', count: 42 },
  { station: 'teststation', count: 249 }
]
✅ Automatic aggregation scheduled successfully
[API station-data] Verwende 15min aggregierte Daten für ort: 47 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 2143ms
{"level":"info","time":"2025-07-26T14:59:17.263Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T14:59:17.263Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T14:59:19.378Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
[API station-data] Verwende 15min aggregierte Daten für band: 41 Einträge
[API station-data] Verwende 15min aggregierte Daten für techno: 42 Einträge
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 2147ms
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 2147ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 43 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 184ms
 GET /api/weather?station=global&time=now 200 in 194ms
{"level":"info","time":"2025-07-26T14:59:19.592Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1152ms
📊 Aggregation statistics: [
  { station: 'band', count: 41 },
  { station: 'heuballern', count: 43 },
  { station: 'ort', count: 47 },
  { station: 'techno', count: 42 },
  { station: 'teststation', count: 249 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/admin/health 200 in 1353ms
{"level":"info","time":"2025-07-26T14:59:19.592Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T14:59:19.593Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T14:59:20.745Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
{"level":"info","time":"2025-07-26T14:59:20.771Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1120ms
📊 Aggregation statistics: [
  { station: 'band', count: 41 },
  { station: 'heuballern', count: 43 },
  { station: 'ort', count: 47 },
  { station: 'techno', count: 42 },
  { station: 'teststation', count: 249 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/csv-watcher-status 200 in 2312ms
{"level":"info","time":"2025-07-26T14:59:20.771Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T14:59:20.771Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T14:59:21.892Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 ✓ Compiled in 2.6s (863 modules)
 GET /dashboard/all 200 in 32ms
 ○ Compiling / ...
 ✓ Compiled / in 966ms (2018 modules)
 GET / 307 in 1546ms
AllLocationsPage wird gerendert
 GET /dashboard/all 200 in 698ms
 GET /dashboard/all 200 in 151ms
{"level":"info","time":"2025-07-26T15:00:09.945Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
✅ Event manager registered for SIGINT/SIGTERM
🔧 Initializing database tables...
✅ Database tables initialized successfully
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2236ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 2358ms
{"level":"info","time":"2025-07-26T15:00:09.946Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:00:09.965Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
{"level":"info","time":"2025-07-26T15:00:09.987Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T15:00:09.987Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:09.988Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:12.225Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 2361ms
 GET /api/weather?station=global&time=now 200 in 2366ms
{"level":"info","time":"2025-07-26T15:00:12.287Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1132ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/admin/health 200 in 1190ms
{"level":"info","time":"2025-07-26T15:00:12.287Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:12.287Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:13.419Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
{"level":"info","time":"2025-07-26T15:00:13.565Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1139ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/csv-watcher-status 200 in 2455ms
{"level":"info","time":"2025-07-26T15:00:13.565Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:13.566Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:14.705Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
🔍 [API station-data] Request: station=heuballern, interval=24h, page=1, pageSize=1, aggregate=dates
🔍 [API station-data] Environment: NODE_ENV=development, Platform=darwin
🔍 [API station-data] Result: 1 rows for heuballern, totalCount: 35833
[API station-data] Station: heuballern, Page: 1/35833, Rows: 1/35833
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=1&aggregate=dates 200 in 2462ms
 ○ Compiling /admin ...
 ✓ Compiled /admin in 5.7s (2949 modules)
{"level":"info","time":"2025-07-26T15:00:18.033Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
✅ Event manager registered for SIGINT/SIGTERM
🔧 Initializing database tables...
✅ Database tables initialized successfully
(node:96658) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 21 SIGINT listeners added to [process]. MaxListeners is 20. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
(node:96658) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 21 SIGTERM listeners added to [process]. MaxListeners is 20. Use emitter.setMaxListeners() to increase limit
 GET /api/admin/config 200 in 3352ms
{"level":"info","time":"2025-07-26T15:00:18.033Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:00:18.056Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
 GET /api/weather/last-update 200 in 4526ms
 GET /api/updates 200 in 111749ms
 GET /api/updates 200 in 111752ms
 GET /api/updates 200 in 111753ms
 ⚠ Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
{"level":"info","time":"2025-07-26T15:00:19.391Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2200ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 3550ms
{"level":"info","time":"2025-07-26T15:00:19.392Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:19.393Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:21.594Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 3553ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /admin 200 in 6989ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /dashboard/all 200 in 308ms
 ○ Compiling /api/updates ...
 ✓ Compiled /api/updates in 876ms (2950 modules)
{"level":"info","time":"2025-07-26T15:00:22.579Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
🔧 Initializing database tables...
✅ Database tables initialized successfully
✅ Event manager registered for SIGINT/SIGTERM
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1600ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
💓 SSE heartbeat mechanism started
{"level":"info","time":"2025-07-26T15:00:22.588Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
{"level":"info","time":"2025-07-26T15:00:22.589Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:00:22.605Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T15:00:22.605Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:22.605Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:24.210Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 GET /dashboard/all 200 in 306ms
 GET /api/admin/config 200 in 54ms
 ✓ Compiled in 1710ms (1325 modules)
 GET /admin 200 in 64ms
 GET /dashboard/all 200 in 65ms
{"level":"info","time":"2025-07-26T15:00:26.158Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2452ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/admin/health 200 in 2510ms
{"level":"info","time":"2025-07-26T15:00:26.158Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:26.169Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:28.622Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 ○ Compiling /api/admin/logs ...
 ✓ Compiled /api/admin/logs in 1908ms (2940 modules)
{"level":"info","time":"2025-07-26T15:00:30.634Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
✅ Event manager registered for SIGINT/SIGTERM
🔧 Initializing database tables...
✅ Database tables initialized successfully
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2429ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/csv-watcher-status 200 in 6992ms
💓 Heartbeat failed for subscriber sub_1753541911017_ion69yt49: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753541911023_by9jh0iu5: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753541911024_arpy2c0o0: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
{"level":"info","time":"2025-07-26T15:00:30.644Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
{"level":"info","time":"2025-07-26T15:00:30.644Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:00:30.666Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T15:00:30.667Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:30.667Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:33.098Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 GET /api/admin/cron 200 in 7019ms
 GET /api/admin/logs 200 in 4506ms
{"level":"info","time":"2025-07-26T15:00:33.174Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1211ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
💓 SSE heartbeat mechanism started
{"level":"info","time":"2025-07-26T15:00:33.175Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:33.175Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:34.387Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 GET /api/admin/config 200 in 1395ms
{"level":"info","time":"2025-07-26T15:00:34.576Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1198ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/admin/health 200 in 1221ms
{"level":"info","time":"2025-07-26T15:00:34.576Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:00:34.576Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:00:35.775Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 ✓ Compiled in 2.7s (1325 modules)
 GET /dashboard/all 200 in 55ms
 GET /admin 200 in 33ms
 GET /api/csv-watcher-status 200 in 9ms
 GET /api/admin/cron 200 in 7ms
 GET /api/admin/logs 200 in 4ms
 GET /api/admin/config 200 in 5ms
 GET /dashboard/all 200 in 14ms
 GET /admin 200 in 11ms
{"level":"info","time":"2025-07-26T15:01:09.900Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2049ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
(node:96658) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 21 unhandledRejection listeners added to [process]. MaxListeners is 20. Use emitter.setMaxListeners() to increase limit
(node:96658) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 21 uncaughtException listeners added to [process]. MaxListeners is 20. Use emitter.setMaxListeners() to increase limit
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 2118ms
{"level":"info","time":"2025-07-26T15:01:09.901Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:01:09.901Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:01:11.950Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 46ms
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 58ms
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 17ms
 GET /api/weather?station=global&time=now 200 in 309ms
 ✓ Compiled in 633ms (1325 modules)
 GET /api/admin/health 200 in 24ms
 GET /api/csv-watcher-status 200 in 9ms
 GET /admin 200 in 16ms
 GET /dashboard/all 200 in 12ms
 GET /api/admin/health 200 in 15ms
 GET /api/admin/cron 200 in 8ms
 GET /api/admin/logs 200 in 9ms
 GET /api/csv-watcher-status 200 in 4ms
 GET /api/admin/config 200 in 8ms
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 36ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 5ms
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 4ms
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 43ms
 GET /api/weather?station=global&time=now 200 in 11ms
 GET /api/admin/health 200 in 10ms
 GET /api/csv-watcher-status 200 in 5ms
 GET /api/admin/health 200 in 13ms
 GET /api/admin/cron 200 in 5ms
 GET /api/admin/logs 200 in 3ms
 GET /api/csv-watcher-status 200 in 19ms
 GET /api/admin/config 200 in 6ms
💓 Heartbeat failed for subscriber sub_1753541911017_ion69yt49: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753541911023_by9jh0iu5: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753541911024_arpy2c0o0: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 14ms
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 4ms
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 42ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 6ms
 GET /api/weather?station=global&time=now 200 in 7ms
 GET /api/admin/health 200 in 6ms
 GET /api/csv-watcher-status 200 in 5ms
⏰ Scheduled 15-minute aggregation triggered...
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
 GET /api/admin/health 200 in 6ms
 GET /api/admin/cron 200 in 5ms
 GET /api/admin/logs 200 in 5ms
 GET /api/csv-watcher-status 200 in 6ms
 GET /api/admin/config 200 in 6ms
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2836ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
⏰ Scheduled 15-minute aggregation triggered...
⏰ Scheduled 15-minute aggregation triggered...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2410ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1181ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
 GET / 307 in 228ms
AllLocationsPage wird gerendert
 GET /dashboard/all 200 in 156ms
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 184ms
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 4ms
 GET /api/weather?station=global&time=now 200 in 5ms
 GET /api/admin/health 200 in 5ms
 GET /api/csv-watcher-status 200 in 6ms
🔍 [API station-data] Request: station=heuballern, interval=24h, page=1, pageSize=1, aggregate=dates
🔍 [API station-data] Environment: NODE_ENV=development, Platform=darwin
🔍 [API station-data] Result: 1 rows for heuballern, totalCount: 35615
[API station-data] Station: heuballern, Page: 1/35615, Rows: 1/35615
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=1&aggregate=dates 200 in 21ms
 GET /api/weather/last-update 200 in 6ms
 GET /api/admin/config 200 in 4ms
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 102ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 4ms
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=1&aggregate=15min 200 in 5ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=1&aggregate=15min 200 in 5ms
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=1&aggregate=15min 200 in 5ms
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=1&aggregate=15min 200 in 39ms
 GET /api/updates 200 in 6878ms
 GET /api/updates 200 in 5017ms
 ✓ Compiled in 2.9s (2954 modules)
 GET /admin 200 in 91ms
 GET /dashboard/all 200 in 29ms
{"level":"info","time":"2025-07-26T15:04:08.387Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
✅ Event manager registered for SIGINT/SIGTERM
🔧 Initializing database tables...
✅ Database tables initialized successfully
 GET /api/admin/config 200 in 194ms
{"level":"info","time":"2025-07-26T15:04:08.393Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:04:08.447Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
{"level":"info","time":"2025-07-26T15:04:09.895Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2059ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 2132ms
{"level":"info","time":"2025-07-26T15:04:09.898Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:04:09.898Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:04:11.958Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 36ms
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 269ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 28ms
 ✓ Compiled in 479ms (1325 modules)
 GET /api/weather?station=global&time=now 200 in 215ms
{"level":"info","time":"2025-07-26T15:04:12.556Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1572ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/admin/health 200 in 1588ms
{"level":"info","time":"2025-07-26T15:04:12.556Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:04:12.557Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:04:14.130Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
{"level":"info","time":"2025-07-26T15:04:14.306Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1172ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/csv-watcher-status 200 in 1343ms
{"level":"info","time":"2025-07-26T15:04:14.306Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:04:14.307Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:04:15.480Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 GET /admin 200 in 114ms
 ✓ Compiled in 1467ms (1325 modules)
 GET /dashboard/all 200 in 19ms
 GET /admin 200 in 14ms
 GET /dashboard/all 200 in 14ms
⏰ Scheduled 15-minute aggregation triggered...
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2263ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
 GET /api/admin/health 200 in 404ms
 GET /api/admin/cron 200 in 22ms
 GET /api/admin/logs 200 in 21ms
 GET /api/csv-watcher-status 200 in 248ms
 ✓ Compiled in 4s (2954 modules)
{"level":"info","time":"2025-07-26T15:04:28.220Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
✅ Event manager registered for SIGINT/SIGTERM
🔧 Initializing database tables...
✅ Database tables initialized successfully
 GET /api/admin/config 200 in 636ms
{"level":"info","time":"2025-07-26T15:04:28.221Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:04:28.235Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
 GET /admin 200 in 66ms
 GET /dashboard/all 200 in 39ms
 GET /api/admin/config 200 in 1563ms
💓 Heartbeat failed for subscriber sub_1753541911017_ion69yt49: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753541911023_by9jh0iu5: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753541911024_arpy2c0o0: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753542232344_zmswvkfdd: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753542239238_29vao08sf: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
 ✓ Compiled in 1851ms (2954 modules)
 GET /dashboard/all 200 in 98ms
 GET /admin 200 in 25ms
{"level":"info","time":"2025-07-26T15:04:42.691Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
✅ Event manager registered for SIGINT/SIGTERM
🔧 Initializing database tables...
✅ Database tables initialized successfully
 GET /api/admin/config 200 in 117ms
{"level":"info","time":"2025-07-26T15:04:42.691Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:04:42.711Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
 GET /api/admin/config 200 in 4ms
 PATCH /api/admin/config 200 in 8ms
 ✓ Compiled in 418ms (1325 modules)
 GET /admin 200 in 19ms
 GET /dashboard/all 200 in 15ms
 GET /api/admin/config 200 in 13ms
 GET /api/admin/config 200 in 5ms
{"level":"info","time":"2025-07-26T15:05:09.851Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2024ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 2054ms
{"level":"info","time":"2025-07-26T15:05:09.852Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:05:09.852Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:05:11.877Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 294ms
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 20ms
⏰ Scheduled 15-minute aggregation triggered...
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 56ms
 ✓ Compiled in 517ms (1325 modules)
 GET /api/weather?station=global&time=now 200 in 29ms
{"level":"info","time":"2025-07-26T15:05:12.420Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1841ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/admin/health 200 in 1871ms
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
{"level":"info","time":"2025-07-26T15:05:12.421Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:05:12.421Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:05:14.265Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
{"level":"info","time":"2025-07-26T15:05:14.503Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1256ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/csv-watcher-status 200 in 1473ms
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
{"level":"info","time":"2025-07-26T15:05:14.503Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:05:14.503Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:05:15.760Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=1&aggregate=15min 200 in 87ms
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=1&aggregate=15min 200 in 14ms
 ✓ Compiled in 1693ms (1325 modules)
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=1&aggregate=15min 200 in 34ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=1&aggregate=15min 200 in 11ms
 GET /admin 200 in 30ms
 GET /dashboard/all 200 in 44ms
 GET /admin 200 in 24ms
 GET /dashboard/all 200 in 26ms
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2203ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
⏰ Scheduled 15-minute aggregation triggered...
⏰ Scheduled 15-minute aggregation triggered...
 GET /api/admin/health 200 in 59ms
 GET /api/admin/cron 200 in 7ms
 GET /api/admin/logs 200 in 6ms
 GET /api/csv-watcher-status 200 in 5ms
 GET /api/admin/config 200 in 6ms
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1249ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 1323ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
⏰ Scheduled 15-minute aggregation triggered...
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
⏰ Scheduled 15-minute aggregation triggered...
⏳ Aggregation already pending, skipping...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2089ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 36ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 7ms
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 5ms
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 79ms
 GET /api/weather?station=global&time=now 200 in 10ms
 GET /api/admin/health 200 in 8ms
 GET /api/csv-watcher-status 200 in 5ms
⏰ Scheduled 15-minute aggregation triggered...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2018ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
 GET /api/admin/health 200 in 8ms
 GET /api/admin/cron 200 in 4ms
 GET /api/admin/logs 200 in 4ms
 GET /api/csv-watcher-status 200 in 5ms
 GET /api/admin/config 200 in 5ms
💓 Heartbeat failed for subscriber sub_1753541911017_ion69yt49: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753541911023_by9jh0iu5: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753541911024_arpy2c0o0: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753542232344_zmswvkfdd: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
💓 Heartbeat failed for subscriber sub_1753542239238_29vao08sf: TypeError: Invalid state: Controller is already closed
    at eval (app/api/updates/route.ts:62:34)
    at Array.forEach (<anonymous>)
    at Timeout.eval [as _onTimeout] (app/api/updates/route.ts:58:18)
  60 |           try {
  61 |             const encoder = new TextEncoder()
> 62 |             subscriber.controller.enqueue(encoder.encode(':\n\n')) // Heartbeat comment
     |                                  ^
  63 |           } catch (error) {
  64 |             console.debug(`💓 Heartbeat failed for subscriber ${subscriber.id}:`, error)
  65 |             problematicControllers.add(subscriber.id) {
  code: 'ERR_INVALID_STATE'
}
[API station-data] Verwende 15min aggregierte Daten für ort: 46 Einträge
 GET /api/station-data?station=ort&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 41ms
[API station-data] Verwende 15min aggregierte Daten für heuballern: 42 Einträge
 GET /api/station-data?station=heuballern&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 6ms
[API station-data] Verwende 15min aggregierte Daten für techno: 41 Einträge
 GET /api/station-data?station=techno&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 5ms
[API station-data] Keine ausreichenden aggregierten Daten für band (40 Einträge), verwende direkte Messwerte
 GET /api/station-data?station=band&interval=24h&page=1&pageSize=50&aggregate=15min 200 in 84ms
 GET /api/weather?station=global&time=now 200 in 5ms
 GET /api/admin/health 200 in 6ms
 GET /api/csv-watcher-status 200 in 6ms
 GET /api/admin/health 200 in 7ms
 GET /api/admin/cron 200 in 4ms
 GET /api/admin/logs 200 in 5ms
 GET /api/csv-watcher-status 200 in 6ms
 GET /api/admin/config 200 in 6ms
 ✓ Compiled in 2.3s (2941 modules)
 GET /dashboard/all 200 in 188ms
 GET /admin 200 in 44ms
 ✓ Compiled in 3.3s (2941 modules)
 GET /admin 200 in 1588ms
 ⚠ Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
 GET /api/updates 200 in 459233ms
 GET /api/updates 200 in 459238ms
 GET /api/updates 200 in 459236ms
 GET /admin 200 in 25ms
{"level":"info","time":"2025-07-26T15:08:01.335Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
✅ Event manager registered for SIGINT/SIGTERM
🔧 Initializing database tables...
✅ Database tables initialized successfully
 GET /api/admin/config 200 in 178ms
{"level":"info","time":"2025-07-26T15:08:01.336Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:08:01.368Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
 GET /api/admin/config 200 in 54ms
{"level":"info","time":"2025-07-26T15:08:04.924Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2707ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/admin/health 200 in 2732ms
{"level":"info","time":"2025-07-26T15:08:04.931Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:08:04.932Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:08:07.640Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 GET /api/admin/cron 200 in 2767ms
 GET /api/admin/logs 200 in 2774ms
{"level":"info","time":"2025-07-26T15:08:07.693Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 2557ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
 GET /api/csv-watcher-status 200 in 5349ms
{"level":"info","time":"2025-07-26T15:08:07.694Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:08:07.694Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:08:10.253Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 PATCH /api/admin/config 200 in 2793ms
 GET /api/admin/cron 200 in 197ms
 GET /api/admin/health 200 in 200ms
 GET /api/admin/logs 200 in 48ms
 GET /api/csv-watcher-status 200 in 65ms
 ○ Compiling /api/updates ...
 ✓ Compiled /api/updates in 3.5s (2892 modules)
{"level":"info","time":"2025-07-26T15:08:11.178Z","pid":96658,"hostname":"MacBookPro.fritz.box","config":{"database":{"path":"[REDACTED]"},"server":{"port":3000,"nodeEnv":"development"},"cors":{"origin":"*"},"logging":{"level":"info"},"rateLimit":{"windowMs":900000,"maxRequests":100},"csv":{"uploadDir":"./uploads","watchDir":"./csv-data"},"cache":{"ttlSeconds":300},"thresholds":{"windSpeed":25,"temperature":30}},"msg":"Configuration loaded"}
🔧 Initializing database tables...
✅ Database tables initialized successfully
✅ Event manager registered for SIGINT/SIGTERM
🧹 Cleared old logs for fresh deployment
🧹 Cleared 1 log files for fresh deployment
🔄 Running database migrations from version 6...
✅ All database migrations completed successfully
🔄 Setting up automatic 15-minute aggregation (every 5 minutes)...
🔄 Starting 15-minute aggregation update...
✅ 15-minute aggregation completed in 3256ms
📊 Aggregation statistics: [
  { station: 'band', count: 40 },
  { station: 'heuballern', count: 42 },
  { station: 'ort', count: 46 },
  { station: 'techno', count: 41 },
  { station: 'teststation', count: 248 }
]
✅ Automatic aggregation scheduled successfully
💓 SSE heartbeat mechanism started
{"level":"info","time":"2025-07-26T15:08:11.191Z","pid":96658,"hostname":"MacBookPro.fritz.box","dbPath":"./data.sqlite","msg":"Database connection established"}
{"level":"info","time":"2025-07-26T15:08:11.191Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"SQLite performance pragmas applied successfully"}
{"level":"info","time":"2025-07-26T15:08:11.207Z","pid":96658,"hostname":"MacBookPro.fritz.box","nodeEnv":"development","port":3000,"dbPath":"./data.sqlite","logLevel":"info","msg":"Application initializing..."}
{"level":"info","time":"2025-07-26T15:08:11.208Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Running database migrations..."}
{"level":"info","time":"2025-07-26T15:08:11.208Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Database migrations completed successfully"}
{"level":"info","time":"2025-07-26T15:08:14.467Z","pid":96658,"hostname":"MacBookPro.fritz.box","msg":"Application initialized successfully"}
 GET /api/admin/config 200 in 223ms
 GET /api/admin/config 200 in 226ms
 GET /admin 200 in 4357ms
 GET /admin 200 in 90ms
 ✓ Compiled in 3.3s (1325 modules)
 GET /admin 200 in 34ms
 GET /admin 200 in 34ms
